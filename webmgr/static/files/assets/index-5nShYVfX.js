(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();var X,w,Re,T,we,$e,ue,fe,_e,pe,Te,Q={},Oe=[],Ve=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ie=Array.isArray;function M(t,n){for(var a in n)t[a]=n[a];return t}function ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function O(t,n,a){var r,o,l,s={};for(l in n)l=="key"?r=n[l]:l=="ref"?o=n[l]:s[l]=n[l];if(arguments.length>2&&(s.children=arguments.length>3?X.call(arguments,2):a),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)s[l]===void 0&&(s[l]=t.defaultProps[l]);return K(t,s,r,o,null)}function K(t,n,a,r,o){var l={type:t,props:n,key:a,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Re,__i:-1,__u:0};return o==null&&w.vnode!=null&&w.vnode(l),l}function k(t){return t.children}function Y(t,n){this.props=t,this.context=n}function W(t,n){if(n==null)return t.__?W(t.__,t.__i+1):null;for(var a;n<t.__k.length;n++)if((a=t.__k[n])!=null&&a.__e!=null)return a.__e;return typeof t.type=="function"?W(t):null}function Be(t){var n,a;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((a=t.__k[n])!=null&&a.__e!=null){t.__e=t.__c.base=a.__e;break}return Be(t)}}function he(t){(!t.__d&&(t.__d=!0)&&T.push(t)&&!oe.__r++||we!==w.debounceRendering)&&((we=w.debounceRendering)||$e)(oe)}function oe(){var t,n,a,r,o,l,s,c;for(T.sort(ue);t=T.shift();)t.__d&&(n=T.length,r=void 0,l=(o=(a=t).__v).__e,s=[],c=[],a.__P&&((r=M({},o)).__v=o.__v+1,w.vnode&&w.vnode(r),ge(a.__P,r,o,a.__n,a.__P.namespaceURI,32&o.__u?[l]:null,s,l??W(o),!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,We(s,r,c),r.__e!=l&&Be(r)),T.length>n&&T.sort(ue));oe.__r=0}function He(t,n,a,r,o,l,s,c,h,u,d){var i,_,p,b,N,m=r&&r.__k||Oe,f=n.length;for(a.__d=h,et(a,n,m),h=a.__d,i=0;i<f;i++)(p=a.__k[i])!=null&&(_=p.__i===-1?Q:m[p.__i]||Q,p.__i=i,ge(t,p,_,o,l,s,c,h,u,d),b=p.__e,p.ref&&_.ref!=p.ref&&(_.ref&&be(_.ref,null,p),d.push(p.ref,p.__c||b,p)),N==null&&b!=null&&(N=b),65536&p.__u||_.__k===p.__k?h=je(p,h,t):typeof p.type=="function"&&p.__d!==void 0?h=p.__d:b&&(h=b.nextSibling),p.__d=void 0,p.__u&=-196609);a.__d=h,a.__e=N}function et(t,n,a){var r,o,l,s,c,h=n.length,u=a.length,d=u,i=0;for(t.__k=[],r=0;r<h;r++)(o=n[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(s=r+i,(o=t.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?K(null,o,null,null,null):ie(o)?K(k,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?K(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(c=o.__i=tt(o,a,s,d))!==-1&&(d--,(l=a[c])&&(l.__u|=131072)),l==null||l.__v===null?(c==-1&&i--,typeof o.type!="function"&&(o.__u|=65536)):c!==s&&(c==s-1?i--:c==s+1?i++:(c>s?i--:i++,o.__u|=65536))):o=t.__k[r]=null;if(d)for(r=0;r<u;r++)(l=a[r])!=null&&!(131072&l.__u)&&(l.__e==t.__d&&(t.__d=W(l)),Je(l,l))}function je(t,n,a){var r,o;if(typeof t.type=="function"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,n=je(r[o],n,a));return n}t.__e!=n&&(n&&t.type&&!a.contains(n)&&(n=W(t)),a.insertBefore(t.__e,n||null),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType===8);return n}function Ge(t,n){return n=n||[],t==null||typeof t=="boolean"||(ie(t)?t.some(function(a){Ge(a,n)}):n.push(t)),n}function tt(t,n,a,r){var o=t.key,l=t.type,s=a-1,c=a+1,h=n[a];if(h===null||h&&o==h.key&&l===h.type&&!(131072&h.__u))return a;if(r>(h!=null&&!(131072&h.__u)?1:0))for(;s>=0||c<n.length;){if(s>=0){if((h=n[s])&&!(131072&h.__u)&&o==h.key&&l===h.type)return s;s--}if(c<n.length){if((h=n[c])&&!(131072&h.__u)&&o==h.key&&l===h.type)return c;c++}}return-1}function Ce(t,n,a){n[0]==="-"?t.setProperty(n,a??""):t[n]=a==null?"":typeof a!="number"||Ve.test(n)?a:a+"px"}function te(t,n,a,r,o){var l;e:if(n==="style")if(typeof a=="string")t.style.cssText=a;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(n in r)a&&n in a||Ce(t.style,n,"");if(a)for(n in a)r&&a[n]===r[n]||Ce(t.style,n,a[n])}else if(n[0]==="o"&&n[1]==="n")l=n!==(n=n.replace(/(PointerCapture)$|Capture$/i,"$1")),n=n.toLowerCase()in t||n==="onFocusOut"||n==="onFocusIn"?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+l]=a,a?r?a.u=r.u:(a.u=fe,t.addEventListener(n,l?pe:_e,l)):t.removeEventListener(n,l?pe:_e,l);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&n[4]!=="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&a==1?"":a))}}function xe(t){return function(n){if(this.l){var a=this.l[n.type+t];if(n.t==null)n.t=fe++;else if(n.t<a.u)return;return a(w.event?w.event(n):n)}}}function ge(t,n,a,r,o,l,s,c,h,u){var d,i,_,p,b,N,m,f,g,y,v,I,R,ee,j,S,F=n.type;if(n.constructor!==void 0)return null;128&a.__u&&(h=!!(32&a.__u),l=[c=n.__e=a.__e]),(d=w.__b)&&d(n);e:if(typeof F=="function")try{if(f=n.props,g="prototype"in F&&F.prototype.render,y=(d=F.contextType)&&r[d.__c],v=d?y?y.props.value:d.__:r,a.__c?m=(i=n.__c=a.__c).__=i.__E:(g?n.__c=i=new F(f,v):(n.__c=i=new Y(f,v),i.constructor=F,i.render=at),y&&y.sub(i),i.props=f,i.state||(i.state={}),i.context=v,i.__n=r,_=i.__d=!0,i.__h=[],i._sb=[]),g&&i.__s==null&&(i.__s=i.state),g&&F.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=M({},i.__s)),M(i.__s,F.getDerivedStateFromProps(f,i.__s))),p=i.props,b=i.state,i.__v=n,_)g&&F.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),g&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(g&&F.getDerivedStateFromProps==null&&f!==p&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(f,v),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(f,i.__s,v)===!1||n.__v===a.__v)){for(n.__v!==a.__v&&(i.props=f,i.state=i.__s,i.__d=!1),n.__e=a.__e,n.__k=a.__k,n.__k.some(function(G){G&&(G.__=n)}),I=0;I<i._sb.length;I++)i.__h.push(i._sb[I]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(f,i.__s,v),g&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(p,b,N)})}if(i.context=v,i.props=f,i.__P=t,i.__e=!1,R=w.__r,ee=0,g){for(i.state=i.__s,i.__d=!1,R&&R(n),d=i.render(i.props,i.state,i.context),j=0;j<i._sb.length;j++)i.__h.push(i._sb[j]);i._sb=[]}else do i.__d=!1,R&&R(n),d=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++ee<25);i.state=i.__s,i.getChildContext!=null&&(r=M(M({},r),i.getChildContext())),g&&!_&&i.getSnapshotBeforeUpdate!=null&&(N=i.getSnapshotBeforeUpdate(p,b)),He(t,ie(S=d!=null&&d.type===k&&d.key==null?d.props.children:d)?S:[S],n,a,r,o,l,s,c,h,u),i.base=n.__e,n.__u&=-161,i.__h.length&&s.push(i),m&&(i.__E=i.__=null)}catch(G){if(n.__v=null,h||l!=null){for(n.__u|=h?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;l[l.indexOf(c)]=null,n.__e=c}else n.__e=a.__e,n.__k=a.__k;w.__e(G,n,a)}else l==null&&n.__v===a.__v?(n.__k=a.__k,n.__e=a.__e):n.__e=nt(a.__e,n,a,r,o,l,s,h,u);(d=w.diffed)&&d(n)}function We(t,n,a){n.__d=void 0;for(var r=0;r<a.length;r++)be(a[r],a[++r],a[++r]);w.__c&&w.__c(n,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(l){l.call(o)})}catch(l){w.__e(l,o.__v)}})}function nt(t,n,a,r,o,l,s,c,h){var u,d,i,_,p,b,N,m=a.props,f=n.props,g=n.type;if(g==="svg"?o="http://www.w3.org/2000/svg":g==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(u=0;u<l.length;u++)if((p=l[u])&&"setAttribute"in p==!!g&&(g?p.localName===g:p.nodeType===3)){t=p,l[u]=null;break}}if(t==null){if(g===null)return document.createTextNode(f);t=document.createElementNS(o,g,f.is&&f),c&&(w.__m&&w.__m(n,l),c=!1),l=null}if(g===null)m===f||c&&t.data===f||(t.data=f);else{if(l=l&&X.call(t.childNodes),m=a.props||Q,!c&&l!=null)for(m={},u=0;u<t.attributes.length;u++)m[(p=t.attributes[u]).name]=p.value;for(u in m)if(p=m[u],u!="children"){if(u=="dangerouslySetInnerHTML")i=p;else if(!(u in f)){if(u=="value"&&"defaultValue"in f||u=="checked"&&"defaultChecked"in f)continue;te(t,u,null,p,o)}}for(u in f)p=f[u],u=="children"?_=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?b=p:u=="checked"?N=p:c&&typeof p!="function"||m[u]===p||te(t,u,p,m[u],o);if(d)c||i&&(d.__html===i.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),n.__k=[];else if(i&&(t.innerHTML=""),He(t,ie(_)?_:[_],n,a,r,g==="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,s,l?l[0]:a.__k&&W(a,0),c,h),l!=null)for(u=l.length;u--;)ze(l[u]);c||(u="value",g==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[u]||g==="progress"&&!b||g==="option"&&b!==m[u])&&te(t,u,b,m[u],o),u="checked",N!==void 0&&N!==t[u]&&te(t,u,N,m[u],o))}return t}function be(t,n,a){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&n==null||(t.__u=t(n))}else t.current=n}catch(o){w.__e(o,a)}}function Je(t,n,a){var r,o;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||be(r,null,n)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){w.__e(l,n)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Je(r[o],n,a||typeof t.type!="function");a||ze(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function at(t,n,a){return this.constructor(t,a)}function rt(t,n,a){var r,o,l,s;w.__&&w.__(t,n),o=(r=typeof a=="function")?null:n.__k,l=[],s=[],ge(n,t=(!r&&a||n).__k=O(k,null,[t]),o||Q,Q,n.namespaceURI,!r&&a?[a]:o?null:n.firstChild?X.call(n.childNodes):null,l,!r&&a?a:o?o.__e:n.firstChild,r,s),We(l,t,s)}function ke(t,n,a){var r,o,l,s,c=M({},t.props);for(l in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),n)l=="key"?r=n[l]:l=="ref"?o=n[l]:c[l]=n[l]===void 0&&s!==void 0?s[l]:n[l];return arguments.length>2&&(c.children=arguments.length>3?X.call(arguments,2):a),K(t.type,c,r||t.key,o||t.ref,null)}function qe(t,n){var a={__c:n="__cC"+Te++,__:t,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,l;return this.getChildContext||(o=new Set,(l={})[n]=this,this.getChildContext=function(){return l},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.forEach(function(c){c.__e=!0,he(c)})},this.sub=function(s){o.add(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){o&&o.delete(s),c&&c.call(s)}}),r.children}};return a.Provider.__=a.Consumer.contextType=a}X=Oe.slice,w={__e:function(t,n,a,r){for(var o,l,s;n=n.__;)if((o=n.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(c){t=c}throw t}},Re=0,Y.prototype.setState=function(t,n){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=M({},this.state),typeof t=="function"&&(t=t(M({},a),this.props)),t&&M(a,t),t!=null&&this.__v&&(n&&this._sb.push(n),he(this))},Y.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),he(this))},Y.prototype.render=k,T=[],$e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ue=function(t,n){return t.__v.__b-n.__v.__b},oe.__r=0,fe=0,_e=xe(!1),pe=xe(!0),Te=0;var ot=0;function e(t,n,a,r,o,l){n||(n={});var s,c,h=n;"ref"in n&&(s=n.ref,delete n.ref);var u={type:t,props:h,key:a,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ot,__i:-1,__u:0,__source:o,__self:l};if(typeof t=="function"&&(s=t.defaultProps))for(c in s)h[c]===void 0&&(h[c]=s[c]);return w.vnode&&w.vnode(u),u}var z,x,ce,Le,le=0,Ke=[],L=w,Se=L.__b,Ae=L.__r,Ue=L.diffed,Ee=L.__c,Fe=L.unmount,Ie=L.__;function Z(t,n){L.__h&&L.__h(x,t,le||n),le=0;var a=x.__H||(x.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function C(t){return le=1,ve(Xe,t)}function ve(t,n,a){var r=Z(z++,2);if(r.t=t,!r.__c&&(r.__=[Xe(void 0,n),function(c){var h=r.__N?r.__N[0]:r.__[0],u=r.t(h,c);h!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=x,!x.u)){var o=function(c,h,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(_){return!!_.__c});if(d.every(function(_){return!_.__N}))return!l||l.call(this,c,h,u);var i=!1;return d.forEach(function(_){if(_.__N){var p=_.__[0];_.__=_.__N,_.__N=void 0,p!==_.__[0]&&(i=!0)}}),!(!i&&r.__c.props===c)&&(!l||l.call(this,c,h,u))};x.u=!0;var l=x.shouldComponentUpdate,s=x.componentWillUpdate;x.componentWillUpdate=function(c,h,u){if(this.__e){var d=l;l=void 0,o(c,h,u),l=d}s&&s.call(this,c,h,u)},x.shouldComponentUpdate=o}return r.__N||r.__}function B(t,n){var a=Z(z++,3);!L.__s&&Ne(a.__H,n)&&(a.__=t,a.i=n,x.__H.__h.push(a))}function Ye(t,n){var a=Z(z++,4);!L.__s&&Ne(a.__H,n)&&(a.__=t,a.i=n,x.__h.push(a))}function D(t){return le=5,ye(function(){return{current:t}},[])}function ye(t,n){var a=Z(z++,7);return Ne(a.__H,n)&&(a.__=t(),a.__H=n,a.__h=t),a.__}function Qe(t){var n=x.context[t.__c],a=Z(z++,9);return a.c=t,n?(a.__==null&&(a.__=!0,n.sub(x)),n.props.value):t.__}function lt(){for(var t;t=Ke.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(re),t.__H.__h.forEach(me),t.__H.__h=[]}catch(n){t.__H.__h=[],L.__e(n,t.__v)}}L.__b=function(t){x=null,Se&&Se(t)},L.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),Ie&&Ie(t,n)},L.__r=function(t){Ae&&Ae(t),z=0;var n=(x=t.__c).__H;n&&(ce===x?(n.__h=[],x.__h=[],n.__.forEach(function(a){a.__N&&(a.__=a.__N),a.i=a.__N=void 0})):(n.__h.forEach(re),n.__h.forEach(me),n.__h=[],z=0)),ce=x},L.diffed=function(t){Ue&&Ue(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(Ke.push(n)!==1&&Le===L.requestAnimationFrame||((Le=L.requestAnimationFrame)||it)(lt)),n.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.i=void 0})),ce=x=null},L.__c=function(t,n){n.some(function(a){try{a.__h.forEach(re),a.__h=a.__h.filter(function(r){return!r.__||me(r)})}catch(r){n.some(function(o){o.__h&&(o.__h=[])}),n=[],L.__e(r,a.__v)}}),Ee&&Ee(t,n)},L.unmount=function(t){Fe&&Fe(t);var n,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(r){try{re(r)}catch(o){n=o}}),a.__H=void 0,n&&L.__e(n,a.__v))};var De=typeof requestAnimationFrame=="function";function it(t){var n,a=function(){clearTimeout(r),De&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(a,100);De&&(n=requestAnimationFrame(a))}function re(t){var n=x,a=t.__c;typeof a=="function"&&(t.__c=void 0,a()),x=n}function me(t){var n=x;t.__c=t.__(),x=n}function Ne(t,n){return!t||t.length!==n.length||n.some(function(a,r){return a!==t[r]})}function Xe(t,n){return typeof n=="function"?n(t):n}let $,q;const st=(t,n)=>{if($=void 0,n&&n.type==="click"){if(n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.button!==0)return t;const a=n.target.closest("a[href]"),r=a&&a.getAttribute("href");if(!a||a.origin!=location.origin||/^#/.test(r)||!/^(_?self)?$/i.test(a.target)||q&&(typeof q=="string"?!r.startsWith(q):!q.test(r)))return t;$=!0,n.preventDefault(),n=a.href.replace(location.origin,"")}else typeof n=="string"?$=!0:n&&n.url?($=!n.replace,n=n.url):n=location.pathname+location.search;return $===!0?history.pushState(null,"",n):$===!1&&history.replaceState(null,"",n),n},ct=(t,n,a)=>{t=t.split("/").filter(Boolean),n=(n||"").split("/").filter(Boolean);for(let r=0,o,l;r<Math.max(t.length,n.length);r++){let[,s,c,h]=(n[r]||"").match(/^(:?)(.*?)([+*?]?)$/);if(o=t[r],!(!s&&c==o)){if(!s&&o&&h=="*"){a.rest="/"+t.slice(r).map(decodeURIComponent).join("/");break}if(!s||!o&&h!="?"&&h!="*")return;if(l=h=="+"||h=="*",l?o=t.slice(r).map(decodeURIComponent).join("/")||void 0:o&&(o=decodeURIComponent(o)),a.params[c]=o,c in a||(a[c]=o),l)break}}return a};function V(t){const[n,a]=ve(st,t.url||location.pathname+location.search);t.scope&&(q=t.scope);const r=$===!0,o=ye(()=>{const l=new URL(n,location.origin),s=l.pathname.replace(/\/+$/g,"")||"/";return{url:n,path:s,query:Object.fromEntries(l.searchParams),route:(c,h)=>a({url:c,replace:h}),wasPush:r}},[n]);return Ye(()=>(addEventListener("click",a),addEventListener("popstate",a),()=>{removeEventListener("click",a),removeEventListener("popstate",a)}),[]),O(V.ctx.Provider,{value:o},t.children)}const dt=Promise.resolve();function Ze(t){const[n,a]=ve(S=>S+1,0),{url:r,query:o,wasPush:l,path:s}=ut(),{rest:c=s,params:h={}}=Qe(Me),u=D(!1),d=D(s),i=D(0),_=D(),p=D(),b=D(),N=D(!1),m=D();m.current=!1;const f=D(!1);let g,y,v;Ge(t.children).some(S=>{if(ct(c,S.props.path,v={...S.props,path:c,query:o,params:h,rest:""}))return g=ke(S,v);S.props.default&&(y=ke(S,v))});let I=g||y;ye(()=>{p.current=_.current;const S=p.current&&p.current.props.children;!S||!I||I.type!==S.type||I.props.component!==S.props.component?(this.__v&&this.__v.__k&&this.__v.__k.reverse(),i.current++,f.current=!0):f.current=!1},[r]);const R=_.current&&_.current.__u&ne&&_.current.__u&ae,ee=_.current&&_.current.__h;_.current=O(Me.Provider,{value:v},I),R?(_.current.__u|=ne,_.current.__u|=ae):ee&&(_.current.__h=!0);const j=p.current;return p.current=null,this.__c=(S,F)=>{m.current=!0,p.current=j,t.onLoadStart&&t.onLoadStart(r),u.current=!0;let G=i.current;S.then(()=>{G===i.current&&(p.current=null,_.current&&(F.__h&&(_.current.__h=F.__h),F.__u&ae&&(_.current.__u|=ae),F.__u&ne&&(_.current.__u|=ne)),dt.then(a))})},Ye(()=>{const S=this.__v&&this.__v.__e;if(m.current){!N.current&&!b.current&&(b.current=S);return}!N.current&&b.current&&(b.current!==S&&b.current.remove(),b.current=null),N.current=!0,d.current!==s&&(l&&scrollTo(0,0),t.onRouteChange&&t.onRouteChange(r),d.current=s),t.onLoadEnd&&u.current&&t.onLoadEnd(r),u.current=!1},[s,l,n]),f.current?[O(de,{r:_}),O(de,{r:p})]:O(de,{r:_})}const ne=32,ae=128,de=({r:t})=>t.current;Ze.Provider=V;V.ctx=qe({});const Me=qe({}),P=t=>O(t.component,t),ut=()=>Qe(V.ctx),Pe=w.__e;w.__e=(t,n,a)=>{if(t&&t.then){let r=n;for(;r=r.__;)if(r.__c&&r.__c.__c)return n.__e==null&&(n.__e=a.__e,n.__k=a.__k),n.__k||(n.__k=[]),r.__c.__c(t,n)}Pe&&Pe(t,n,a)};const se="onlyconfig.user";function H(){let t=localStorage.getItem(se);return t===null?!1:JSON.parse(t).is_login===!0}function _t(t){let n={is_login:!0,token:t};localStorage.setItem(se,JSON.stringify(n))}function pt(){localStorage.removeItem(se)}function U(){let t=localStorage.getItem(se);return t===null?"":JSON.parse(t).token}class E extends Y{componentWillMount(){location=this.props.to}render(){return null}}function J(){return e("nav",{className:"navbar bg-body-tertiary",children:e("div",{className:"container-fluid",children:[e("a",{className:"navbar-brand",href:"/",children:"OnlyConfig Web Manager"}),e("div",{className:"d-flex btn-group",children:[e("a",{className:"btn btn-outline-success",href:"/",children:"Home"}),e("a",{className:"btn btn-outline-primary",href:"/change_password",children:"Change password"}),e("a",{className:"btn btn-outline-primary",href:"/env_and_dc",children:"Manage environment and datacenter"}),e("a",{className:"btn btn-outline-primary",href:"/org_mgr",children:"Manage organization"}),e("a",{className:"btn btn-outline-danger",href:"/logout",children:"Logout"})]})]})})}function A(t){return t.startsWith("/")||(t="/"+t),"//"+window.location.host+t}function ht(){if(!H())return e(E,{to:"/login"});let[t,n]=C(!1);if(t)return e(E,{to:"/logout"});let[a,r]=C(null),[o,l]=C(null),s=function(){r(null),l(null)},[c,h]=C(null),u=function(m){fetch(A("/configures/applications"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async f=>{if(f.status===401){n(!0);return}if(f.status!==200){console.log("status:",f.status),alert("Get application data error");return}let g=await f.json();console.log("fetch application data:",g.list),g.list?h(g.list):h([]),m&&m()}).catch(f=>{console.log("fetch application data failed:",f),alert("Get application data error")})};if(B(()=>(u(),()=>{}),[]),!c)return e(k,{children:[e(J,{}),e("div",{children:"loading...."})]});let[d,i]=C(null),[_,p]=C(null);B(()=>{let m=function(g){fetch(A("/user/organizations"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async y=>{if(y.status===401){n(!0);return}if(y.status!==200){console.log("status:",y.status),alert("Get organizations data error");return}let v=await y.json();console.log("fetch organizations data:",v.result),v.result?i(v.result):i([])}).catch(y=>{console.log("fetch organizations data failed:",y),alert("Get organizations data error")})},f=function(g){fetch(A("/configures/env_dc_list"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async y=>{if(y.status===401){n(!0);return}if(y.status!==200){console.log("status:",y.status),alert("Get environments and datacenters data error");return}let v=await y.json();console.log("fetch environments and datacenters data:",v),p(v||{})}).catch(y=>{console.log("fetch environments and datacenters data failed:",y),alert("Get environments and datacenters data error")})};return document.getElementById("createNewAppModal").addEventListener("show.bs.modal",m),document.getElementById("addDatacenterModal").addEventListener("show.bs.modal",f),()=>{document.getElementById("createNewAppModal").removeEventListener("show.bs.modal",m),document.getElementById("addDatacenterModal").removeEventListener("show.bs.modal",f)}},[]);let b=function(m){let f=m.target.org.value,g=m.target.app.value;m.target.app.value="",fetch(A("/configures/application/"+encodeURI(f)+"/"+encodeURI(g)),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async y=>{if(console.log("created status:",y.status),y.status===401){n(!0);return}if(y.status!==200){console.log("status:",y.status),alert("put new application error");return}u(function(){bootstrap.Modal.getInstance(document.getElementById("createNewAppModal")).hide()})}).catch(y=>{console.log("put new application failed:",y),alert("put new application error")})},N=function(m){console.log("submit:",m.target.env.value),console.log("submit:",m.target.dc.value),console.log("selected app:",a);let f=encodeURI(a[0]),g=encodeURI(m.target.env.value),y=encodeURI(m.target.dc.value);fetch(A("/configures/application/"+f+"/"+g+"/"+y),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async v=>{if(console.log("created status:",v.status),v.status===401){n(!0);return}if(v.status!==200){console.log("status:",v.status),alert("put datacenter for app error");return}u(function(){bootstrap.Modal.getInstance(document.getElementById("addDatacenterModal")).hide()})}).catch(v=>{console.log("put datacenter for app failed:",v),alert("put datacenter for app error")})};return e("div",{children:[e(J,{}),e("div",{className:"modal fade",id:"createNewAppModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"createNewAppModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-lg",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:"createNewAppModalLabel",children:"New Application"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:e("form",{onSubmit:m=>{m.preventDefault(),b(m)},children:[d&&e(k,{children:[e("h5",{children:"Organization"}),e("select",{className:"form-select",name:"org",children:d.map(m=>e("option",{value:m.org_id,children:m.org_name}))}),e("h5",{children:"Application name"}),e("input",{type:"text",name:"app",className:"form-control",autoComplete:"off"}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]}),!d&&e("div",{children:"loading..."})]})}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e("div",{className:"modal fade",id:"addDatacenterModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"addDatacenterModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-lg",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:"addDatacenterModalLabel",children:"Add datacenter"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:e("form",{onSubmit:m=>{m.preventDefault(),N(m)},children:[_&&_.env&&_.dc&&e(k,{children:[e("h5",{children:"Environment"}),e("select",{className:"form-select",name:"env",children:_.env.map(m=>e("option",{value:m,children:m}))}),e("h5",{children:"Datacenter"}),e("select",{className:"form-select",name:"dc",children:_.dc.map(m=>e("option",{value:m,children:m}))}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]}),!_&&e("div",{children:"loading..."})]})}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e("div",{className:"row",style:"margin: 10px; height:100vh",children:[e("div",{className:"col-2 border rounded",children:[e("h4",{style:"padding: 5px 5px",children:"Applications"}),e("hr",{}),e("div",{className:"list-group",children:c&&c.map(m=>e("a",{href:"#",className:"list-group-item list-group-item-action",onClick:()=>{s(),r([m.app_id,m.app_name,m.env_and_dc])},children:m.app_name}))}),e("div",{children:e("button",{type:"button",className:"btn btn-light border",style:"width: 100%;margin-top: 10px;","data-bs-toggle":"modal","data-bs-target":"#createNewAppModal",children:"New Application"})})]}),e("div",{className:"col-2 border rounded",children:a&&e(k,{children:[e("h4",{style:"padding: 5px 5px",children:["[",e("strong",{style:"color:red",children:a[1]}),"]"]}),e("h4",{style:"padding: 5px 5px",children:"Envs & DCs"}),e("hr",{}),c&&c.map(m=>{if(m.app_id===a[0])return e("div",{className:"accordion",id:"env_and_dc_for_application",children:m.env_and_dc&&m.env_and_dc.map(f=>e("div",{className:"accordion-item",children:[e("h2",{className:"accordion-header",children:e("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-"+f.env,"aria-expanded":"true","aria-controls":"panelsStayOpen-"+f.env,children:f.env})}),e("div",{id:"panelsStayOpen-"+f.env,className:"accordion-collapse collapse show",children:e("div",{className:"accordion-body",children:e("div",{className:"list-group",children:f.dc_list&&f.dc_list.map(g=>e("a",{href:"#",onClick:()=>{l([f.env,g])},className:"list-group-item list-group-item-action",children:g}))})})})]}))})}),e("div",{children:e("button",{type:"button",className:"btn btn-light border",style:"width: 100%;margin-top: 10px;","data-bs-toggle":"modal","data-bs-target":"#addDatacenterModal",children:"Add Datacenter"})})]})}),e("div",{className:"col-8 border rounded",children:a&&o&&e(k,{children:e(mt,{app_id:a[0],app:a[1],env:o[0],dc:o[1]})})})]})]})}function mt(t){if(!H())return e(E,{to:"/login"});let[n,a]=C(!1);if(n)return e(E,{to:"/logout"});if(!t.app_id||!t.app||!t.env||!t.dc)return e(k,{children:"Please select application, environment and datacenter."});let[r,o]=C(null),[l,s]=C(null),c=function(){s(null);let _=encodeURI(t.app_id),p=encodeURI(t.env),b=encodeURI(t.dc),N=`/configures/configure_list/${_}/${p}/${b}`;fetch(A(N),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async m=>{if(m.status===401){a(!0);return}if(m.status!==200){console.log("status:",m.status),alert("Get app configure list data error");return}let f=await m.json();console.log("fetch app configure list data:",f.result),f.result?s(f.result):s([])}).catch(m=>{console.log("fetch app configure list data failed:",m),alert("Get app configure list data error")})};B(_=>{let p=function(b){o(null),fetch(A("/configures/namespaces/"+t.app_id),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async N=>{if(N.status===401){a(!0);return}if(N.status!==200){console.log("status:",N.status),alert("Get app namespaces data error");return}let m=await N.json();console.log("fetch app namespaces data:",m.result),m.result?o(m.result):o([])}).catch(N=>{console.log("fetch app namespaces data failed:",N),alert("Get app namespaces data error")})};return document.getElementById("addConfiguration").addEventListener("show.bs.modal",p),()=>{document.getElementById("addConfiguration").removeEventListener("show.bs.modal",p)}},[]),B(_=>(c(),()=>{}),[t.dc,t.env,t.app]);let h=function(_,p){let b=encodeURI(_.target.nstype.value),N=encodeURI(_.target.namespace.value),m=encodeURI(p);_.target.namespace.value="",fetch(A("/configures/namespace/"+m+"/"+N+"/"+b),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async f=>{if(console.log("created status:",f.status),f.status===401){a(!0);return}if(f.status!==200){console.log("status:",f.status),alert("put new namespace error");return}bootstrap.Modal.getInstance(document.getElementById("addNamespace")).hide()}).catch(f=>{console.log("put new namespace failed:",f),alert("put new namespace error")})},u=function(_){let p=encodeURI(t.app_id),b=encodeURI(t.env),N=encodeURI(t.dc),m=encodeURI(_.target.ns_name.value),f=encodeURI(_.target.key.value),g=_.target.ct.value,y=_.target.content.value;console.log([p,b,N,m,f,g,y]),fetch(A("/configures/configure/"+p+"/"+b+"/"+N+"/"+m+"/"+f),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"post",body:JSON.stringify({content_type:g,content:y})}).then(async v=>{if(console.log("created status:",v.status),v.status===401){a(!0);return}if(v.status!==200){console.log("status:",v.status),alert("put new configuration error");return}c(),bootstrap.Modal.getInstance(document.getElementById("addConfiguration")).hide()}).catch(v=>{console.log("put new configuration failed:",v),alert("put new configuration error")})},[d,i]=C(null);return e(k,{children:[e("div",{className:"modal fade",id:"displayUsageInCodeModel","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"displayUsageInCodeModelLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-xl",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:"displayUsageInCodeModelLabel",children:"Show usage in code"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:[!d&&e("div",{children:"Loading..."}),d&&e(k,{children:[e("h5",{children:["Current application:[",e("b",{children:d.app}),"], environment:[",e("b",{children:d.env}),"], datacenter:[",e("b",{children:d.dc}),"]"]}),e("h5",{children:["Current namespace:[",e("b",{children:d.ns}),"], key:[",e("b",{children:d.key}),"]"]}),e("div",{className:"card",children:[e("div",{className:"card-header",children:"Go client"}),e("div",{className:"card-body",children:e("pre",{className:"card-text",style:"font-family: Consolas, Monaco, monospace;",children:`
// Step1. setup selectors when initializing go client
c := NewClient([]string{"http://127.0.0.1:8800"}, ClientOptions{
    SelectorApp:         "${d.app}",
    SelectorEnvironment: "${d.env}",
    SelectorDatacenter:  "${d.dc}",
})

// Step2. register listener information when using the current configuration
atomicContainer, _ := ca.RegisterJsonContainer("${d.ns}", "${d.key}", new(ConfigureContainer))
                                            `})})]})]})]}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e("div",{className:"modal fade",id:"addNamespace","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"addNamespaceLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-lg",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:"addNamespaceLabel",children:"Add namespace"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:e("form",{onSubmit:_=>{_.preventDefault(),h(_,t.app_id)},children:[e("h4",{children:["Current application:[",e("strong",{style:"color:red;",children:t.app}),"]"]}),e("h5",{children:"Namespace"}),e("input",{type:"text",className:"form-control",name:"namespace",autoComplete:"off"}),e("h5",{children:"Namespace type"}),e("div",{className:"form-check form-check-inline",children:[e("input",{className:"form-check-input",type:"radio",name:"nstype",value:"application",id:"nstype_application",checked:!0}),e("label",{className:"form-check-label",htmlFor:"nstype_application",children:"Application"})]}),e("div",{className:"form-check form-check-inline",children:[e("input",{className:"form-check-input",type:"radio",name:"nstype",value:"public",id:"nstype_public"}),e("label",{className:"form-check-label",htmlFor:"nstype_public",children:"Public"})]}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e("div",{className:"modal fade",id:"addConfiguration","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"addConfigurationLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-xl",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:"addConfigurationLabel",children:"Add configuration"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:e("form",{onSubmit:_=>{_.preventDefault(),u(_)},children:[!r&&e("div",{children:"Loading..."}),r&&e(k,{children:[e("h5",{children:"Namespace"}),e("select",{className:"form-select",name:"ns_name",children:r.map(_=>e("option",{value:_,children:_}))}),e("h5",{children:"Key"}),e("input",{type:"text",className:"form-control",name:"key",autoComplete:"off"}),e("h5",{children:"Content type"}),e("div",{children:e("div",{className:"form-check form-check-inline",children:[e("input",{className:"form-check-input",type:"radio",name:"ct",value:"general",id:"ct_general",checked:!0}),e("label",{className:"form-check-label",htmlFor:"ct_general",children:"General Text"})]})}),e("h5",{children:"Configure content"}),e("textarea",{className:"form-control",name:"content",rows:"20",style:"font-family: Consolas, Monaco, monospace;"}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]})}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),e(ft,{selected:d,modal_id:"editConfigurationEach"}),e("h4",{style:"margin: 5px 5px",children:"Configurations"}),e("h4",{style:"margin: 5px 5px",children:["Current Application:[",e("strong",{style:"color:red",children:t.app}),"]"]}),e("h4",{style:"margin: 5px 5px",children:["Current Environment:[",e("strong",{style:"color:red",children:t.env}),"], Datacenter:[",e("strong",{style:"color:red",children:t.dc}),"]"]}),e("div",{className:"btn-group",role:"group",children:[e("button",{type:"button",className:"btn btn-outline-primary","data-bs-toggle":"modal","data-bs-target":"#addConfiguration",children:"Add Configure"}),e("button",{type:"button",className:"btn btn-outline-primary","data-bs-toggle":"modal","data-bs-target":"#addNamespace",children:"Add Namespace"}),e("button",{type:"button",className:"btn btn-outline-primary",disabled:!0,children:"Link Namespace"})]}),e("hr",{}),l&&l.map(_=>e("div",{className:"card",style:"margin-bottom: 5px;",children:[e("div",{className:"card-header",children:["Namespace: ",e("strong",{children:_.namespace})]}),e("div",{className:"card-body",children:e("ul",{className:"list-group list-group-flush",children:_.configure_list&&_.configure_list.map(p=>e("li",{className:"list-group-item",children:[e("div",{children:e("h5",{children:["Key: ",e("strong",{children:p.key})]})}),e("div",{className:"btn-group",role:"group",children:[e("button",{type:"button",className:"btn btn-outline-primary","data-bs-toggle":"modal","data-bs-target":"#editConfigurationEach",onClick:()=>{i(null),i({app:t.app,env:t.env,dc:t.dc,ns:_.namespace,key:p.key,cfg_id:p.configure_id})},children:"Edit"}),e("button",{type:"button",className:"btn btn-outline-primary","data-bs-toggle":"modal","data-bs-target":"#displayUsageInCodeModel",onClick:()=>{i(null),i({app:t.app,env:t.env,dc:t.dc,ns:_.namespace,key:p.key,cfg_id:p.configure_id})},children:"View usage in code"}),e("button",{type:"button",className:"btn btn-outline-primary",disabled:!0,children:"History"}),e("button",{type:"button",className:"btn btn-outline-danger",disabled:!0,children:"Rollback"})]})]}))})})]})),!l&&e("div",{children:"Loading..."})]})}function ft(t){if(!H())return e(E,{to:"/login"});let[n,a]=C(!1);if(n)return e(E,{to:"/logout"});let[r,o]=C(null);B(()=>{let s=function(c){o(null);let h=`/configures/configure/${t.selected.cfg_id}`;fetch(A(h),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async u=>{if(u.status===401){a(!0);return}if(u.status!==200){console.log("status:",u.status),alert("Get previous configure data error");return}let d=await u.json();console.log("fetch previous configure data:",d.result),d.result?o(d.result):o({})}).catch(u=>{console.log("fetch previous configure data failed:",u),alert("Get previous configure data error")})};t.selected&&s()},[t.selected]);let l=function(s){let c=t.selected.cfg_id,h=s.target.ct.value,u=s.target.content.value;console.log("edit request:",c,h,u);let d=`/configures/configure/${c}`;fetch(A(d),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put",body:JSON.stringify({ct:h,content:u})}).then(async i=>{if(console.log("created status:",i.status),i.status===401){a(!0);return}if(i.status!==200){console.log("status:",i.status),alert("put edit configuration error");return}bootstrap.Modal.getInstance(document.getElementById(t.modal_id)).hide()}).catch(i=>{console.log("put edit configuration failed:",i),alert("put edit configuration error")})};return e(k,{children:e("div",{className:"modal fade",id:t.modal_id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":t.modal_id+"Label","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-xl",children:e("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:[e("h1",{className:"modal-title fs-5",id:t.modal_id+"Label",children:"Edit configuration"}),e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e("div",{className:"modal-body",children:e("form",{onSubmit:s=>{s.preventDefault(),l(s)},children:[!r&&e("div",{children:"Loading..."}),r&&e(k,{children:[e("h5",{children:"Namespace"}),e("input",{type:"text",className:"form-control",name:"ns_name",autoComplete:"off",disabled:!0,value:r.cfg_ns}),e("h5",{children:"Key"}),e("input",{type:"text",className:"form-control",name:"key",autoComplete:"off",disabled:!0,value:r.cfg_key}),e("h5",{children:"Content type"}),e("div",{children:e("div",{className:"form-check form-check-inline",children:[e("input",{className:"form-check-input",type:"radio",name:"ct",value:"general",id:"ct_general",checked:r.cfg_ct==="general"}),e("label",{className:"form-check-label",htmlFor:"ct_general",children:"General Text"})]})}),e("h5",{children:"Configure content"}),e("textarea",{className:"form-control",name:"content",rows:"20",style:"font-family: Consolas, Monaco, monospace;",children:r.cfg_content}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]})}),e("div",{className:"modal-footer",children:e("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})})}function gt(){return H()?e("div",{children:e(ht,{})}):e(E,{to:"/login"})}function bt(){return pt(),e(E,{to:"/"})}function vt(){let[t,n]=C({}),[a,r]=C(""),[o,l]=C(!1),s=d=>{console.log("submit!!!!"),d.submitter.disabled=!0,d.preventDefault(),r(""),fetch(A("/auth/user/login"),{headers:{"content-type":"application/json; charset=UTF-8"},method:"post",body:JSON.stringify({username:t.username,password:t.password})}).then(async i=>{if(i.status===401){r("Invalid username or password"),d.submitter.disabled=!1;return}if(i.status!==200){console.log("status:",i.status),d.submitter.disabled=!1;return}let _=await i.json();_t(_.token),l(!0)}).catch(async i=>{console.log("send request err:",i),i.submitter.disabled=!1})},c=d=>{var i=t;i[d.target.name]=d.target.value,n(i)};if(o)return e(E,{to:"/"});let[h,u]=C(null);return h?e(E,{to:"/register"}):e("div",{className:"position-absolute top-50 start-50 translate-middle shadow border rounded",style:"padding: 10px 10px",children:e("form",{onSubmit:s,children:[e("div",{children:e("h4",{children:"OnlyConfig Web Manager Login"})}),e("div",{children:[e("label",{htmlFor:"login_username",className:"form-label",children:"Username"}),e("input",{className:"form-control",type:"text",id:"login_username",value:t.username,name:"username",autoComplete:"off",onChange:c})]}),e("div",{children:[e("label",{htmlFor:"login_password",className:"form-label",children:"Password"}),e("input",{className:"form-control",type:"password",id:"login_password",value:t.password,name:"password",autoComplete:"off",onChange:c})]}),a!==""&&e("div",{children:e("div",{children:e("label",{style:"color: red;",children:a})})}),e("div",{style:"margin-top: 10px;",children:[e("button",{type:"submit",className:"btn btn-primary",style:"width: 100px",children:"Login"}),e("span",{style:"padding: 0 10px",children:e("a",{href:"#",onClick:()=>{u(!0)},children:"Register New User"})})]})]})})}function yt(){let[t,n]=C(null),[a,r]=C(null);return a?e(E,{to:"/login"}):e("div",{className:"position-absolute top-50 start-50 translate-middle shadow border rounded",style:"padding: 10px 10px",children:e("form",{onSubmit:function(l){l.preventDefault(),n(null),l.submitter.disabled=!0;let s=l.target.username.value,c=l.target.password.value,h=l.target.confirm_password.value,u=l.target.email.value,d=l.target.display_name.value;if(c!==h){n("password mismatch"),l.submitter.disabled=!1;return}fetch(A("/user/new_user"),{headers:{"content-type":"application/json; charset=UTF-8"},method:"post",body:JSON.stringify({username:s,password:c,email:u,display_name:d})}).then(async i=>{if(i.status!==200){console.log("status:",i.status),n("register failed"),l.submitter.disabled=!1;return}r(!0)}).catch(async i=>{console.log("send request err:",i),l.submitter.disabled=!1})},children:[e("div",{children:e("h4",{children:"OnlyConfig Web Manager Register"})}),e("div",{children:[e("label",{htmlFor:"reg_username",className:"form-label",children:"Username"}),e("input",{className:"form-control",type:"text",id:"reg_username",name:"username",autoComplete:"off"})]}),e("div",{children:[e("label",{htmlFor:"reg_password",className:"form-label",children:"Password"}),e("input",{className:"form-control",type:"password",id:"reg_password",name:"password",autoComplete:"off"})]}),e("div",{children:[e("label",{htmlFor:"reg_confirmed_password",className:"form-label",children:"Confirm Password"}),e("input",{className:"form-control",type:"password",id:"reg_confirmed_password",name:"confirm_password",autoComplete:"off"})]}),e("div",{children:[e("label",{htmlFor:"reg_email",className:"form-label",children:"Email"}),e("input",{className:"form-control",type:"email",id:"reg_email",name:"email",autoComplete:"off"})]}),e("div",{children:[e("label",{htmlFor:"reg_display_name",className:"form-label",children:"Display Name"}),e("input",{className:"form-control",type:"text",id:"reg_display_name",name:"display_name",autoComplete:"off"})]}),t!==""&&e("div",{children:e("div",{children:e("label",{style:"color: red;",children:t})})}),e("div",{style:"margin-top: 10px;",children:[e("button",{type:"submit",className:"btn btn-primary",style:"width: 100px",children:"Register"}),e("span",{style:"padding: 0 10px",children:e("a",{href:"#",onClick:()=>{r(!0)},children:"Back to login"})})]})]})})}function Nt(){if(!H())return e(E,{to:"/login"});let[t,n]=C(!1);if(t)return e(E,{to:"/logout"});let[a,r]=C(null);return e(k,{children:[e(J,{}),e("div",{className:"row",style:"padding: 10px 0",children:[e("div",{className:"col-1"}),e("div",{className:"col-10 border rounded",children:[e("h1",{children:"Change password"}),e("div",{className:"row",children:[e("div",{className:"col-1"}),e("div",{className:"col-10",children:e("form",{onSubmit:function(l){l.preventDefault(),r(null);let s=l.target.old.value,c=l.target.new.value,h=l.target.confirm.value;c!==h&&r("password mismatch"),l.submitter.disabled=!0,fetch(A("/user/change_password"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"post",body:JSON.stringify({old:s,new:c})}).then(async u=>{if(u.status!==200){console.log("status:",u.status),r("change password failed"),l.submitter.disabled=!1;return}l.target.old.value="",l.target.new.value="",l.target.confirm.value=""}).catch(async u=>{console.log("send request err:",u),l.submitter.disabled=!1})},children:[e("div",{children:"Old password"}),e("div",{className:"btn-group",style:"padding: 10px 0",children:e("input",{className:"form-control form-control-lg",type:"password",name:"old",autoComplete:"off"})}),e("div",{children:"New password"}),e("div",{className:"btn-group",style:"padding: 10px 0",children:e("input",{className:"form-control form-control-lg",type:"password",name:"new",autoComplete:"off"})}),e("div",{children:"Confirm password"}),e("div",{className:"btn-group",style:"padding: 10px 0",children:e("input",{className:"form-control form-control-lg",type:"password",name:"confirm",autoComplete:"off"})}),a&&e("div",{children:e("div",{style:"color: red;",children:a})}),e("div",{style:"margin: 10px 0px",children:e("button",{type:"submit",className:"btn btn-primary",children:"Change"})})]})}),e("div",{className:"col-1"})]})]}),e("div",{className:"col-1"})]})]})}function wt(){return e("section",{children:[e("h1",{children:"404: Not Found"}),e("p",{children:"It's gone :("})]})}function Ct(){if(!H())return e(E,{to:"/login"});let[t,n]=C(!1);if(t)return e(E,{to:"/logout"});let[a,r]=C(null),o=function(){fetch(A("/configures/env_dc_list"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async s=>{if(s.status===401){n(!0);return}if(s.status!==200){console.log("status:",s.status),alert("Get env_dc_list error");return}let c=await s.json();r(c)}).catch(s=>{console.log("fetch env_dc_list failed:",s),alert("Get env_dc_list error")})};if(B(()=>(o(),()=>{}),[]),!a)return e(k,{children:[e(J,{}),e("div",{children:"loading...."})]});let l=function(s,c){fetch(A("/configures/env_and_dc/"+encodeURI(s)+"/"+encodeURI(c)),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async h=>{if(h.status===401){n(!0);return}if(h.status!==200){console.log("status:",h.status),alert("put env or dc error");return}o()}).catch(h=>{console.log("put env or dc failed:",h),alert("put env or dc error")})};return e(k,{children:[e(J,{}),e("div",{className:"row",style:"padding: 10px 0",children:[e("div",{className:"col-1"}),e("div",{className:"col-10 border rounded",children:[e("h1",{children:"Add environment"}),e("div",{className:"row",children:[e("div",{className:"col-1"}),e("div",{className:"col-10",children:[e("strong",{children:"Current environment:"}),e("ul",{children:a.env&&a.env.map(s=>e("li",{children:s}))}),e("form",{onSubmit:s=>{s.preventDefault(),l("env",s.target.env.value),s.target.env.value=""},children:e("div",{className:"btn-group",style:"padding: 10px 0",children:[e("input",{className:"form-control form-control-lg",type:"text",name:"env",autocomplete:"off"}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})})]}),e("div",{className:"col-1"})]})]}),e("div",{className:"col-1"})]}),e("div",{className:"row",style:"padding: 10px 0",children:[e("div",{className:"col-1"}),e("div",{className:"col-10 border rounded",children:[e("h1",{children:"Add datacenter"}),e("div",{className:"row",children:[e("div",{className:"col-1"}),e("div",{className:"col-10",children:[e("strong",{children:"Current datacenter:"}),e("ul",{children:a.dc&&a.dc.map(s=>e("li",{children:s}))}),e("form",{onSubmit:s=>{s.preventDefault(),l("dc",s.target.dc.value),s.target.dc.value=""},children:e("div",{className:"btn-group",style:"padding: 10px 0",children:[e("input",{className:"form-control form-control-lg",type:"text",name:"dc",autocomplete:"off"}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})})]}),e("div",{className:"col-1"})]})]}),e("div",{className:"col-1"})]})]})}function xt(){if(!H())return e(E,{to:"/login"});let[t,n]=C(!1);if(t)return e(E,{to:"/logout"});let[a,r]=C(null),[o,l]=C(null),s=function(){r(null),l(null)},c=function(){s(),fetch(A("/user/organizations"),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"get"}).then(async d=>{if(d.status===401){n(!0);return}if(d.status!==200){console.log("status:",d.status),alert("Get organizations data error");return}let i=await d.json();console.log("fetch organizations data:",i.result),i.result?r(i.result):r([])}).catch(d=>{console.log("fetch organizations data failed:",d),alert("Get organizations data error")})},h=function(d){let i=encodeURI(d.target.org.value);d.target.org.value="";let _=`/organization/${i}`;fetch(A(_),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async p=>{if(p.status===401){n(!0);return}if(p.status!==200){console.log("status:",p.status),alert("put new organization error");return}c()}).catch(p=>{console.log("put new organization failed:",p),alert("put new organization error")})},u=function(d){let i=o.org_name,_=d.target.username.value,p=`/organization/${i}/owner/${_}`;fetch(A(p),{headers:{"content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+U()},method:"put"}).then(async b=>{if(b.status===401){n(!0);return}if(b.status!==200){console.log("status:",b.status),alert("put add user to org error");return}c()}).catch(b=>{console.log("put add user to org failed:",b),alert("put add user to org error")})};return B(()=>{c()},[]),e(k,{children:[e(J,{}),e("div",{className:"row",style:"margin:5px 0px;",children:[e("div",{className:"col-1"}),e("div",{className:"col-10 border rounded",children:[e("h1",{children:"Manage owned organization"}),e("div",{className:"row border rounded",style:"margin: 10px 0px; padding: 5px 5px;",children:[e("h4",{children:"Create new organization"}),e("form",{onSubmit:d=>{d.preventDefault(),h(d)},children:[e("h5",{children:"Organization name:"}),e("input",{type:"text",className:"form-control",name:"org",autocomplete:"off"}),e("hr",{}),e("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]}),e("div",{className:"row border rounded",style:"margin: 10px 0px; padding: 5px 5px;",children:[e("h4",{children:"Manage organization"}),!a&&e(k,{children:"Loading..."}),a&&e(k,{children:e("select",{className:"form-select",onChange:d=>{l(a[d.target.value])},children:[e("option",{disabled:!0,selected:!0,value:!0,children:" -- select an organization --"}),a.map((d,i)=>e("option",{value:i,children:d.org_name}))]})}),o&&e(k,{children:[e("div",{className:"row",style:"margin: 5px 0px;",children:[e("div",{className:"col-6",children:[e("h5",{children:"Owner list"}),e("ul",{className:"list-group",children:o.owner_list&&o.owner_list.map(d=>e("li",{className:"list-group-item",children:d}))})]}),e("div",{className:"col-6",children:[e("h5",{children:"User list"}),e("ul",{className:"list-group",children:o.user_list&&o.user_list.map(d=>e("li",{className:"list-group-item",children:d}))})]})]}),e("div",{className:"row",style:"margin: 5px 0px;",children:[e("div",{className:"col-6",children:[e("hr",{}),e("span",{children:"Add owner:"}),e("form",{onSubmit:d=>{d.preventDefault(),u(d)},children:[e("input",{type:"text",className:"form-control",name:"username",autocomplete:"off"}),e("button",{type:"submit",className:"btn btn-primary",style:"margin: 5px 0px;",children:"Add"})]})]}),e("div",{className:"col-6",children:[e("hr",{}),e("span",{children:"Add user:"}),e("input",{type:"text",className:"form-control",name:"username",autocomplete:"off",disabled:!0}),e("button",{type:"button",className:"btn btn-primary",style:"margin: 5px 0px;",disabled:!0,children:"Add"})]})]})]})]})]}),e("div",{className:"col-1"})]})]})}function kt(){return e(V,{children:e("main",{children:e(Ze,{children:[e(P,{path:"/",component:gt}),e(P,{path:"/login",component:vt}),e(P,{path:"/logout",component:bt}),e(P,{path:"/register",component:yt}),e(P,{path:"/change_password",component:Nt}),e(P,{path:"/env_and_dc",component:Ct}),e(P,{path:"/org_mgr",component:xt}),e(P,{default:!0,component:wt})]})})})}rt(e(kt,{}),document.getElementById("app"));
